module.exports=[47349,(a,b,c)=>{"use strict";var d=a.r(72131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},18454,a=>{"use strict";a.s(["default",()=>aa],18454);var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(50944),f=a.i(46271),g=a.i(86723),h=a.i(74290),i=a.i(1703),j=a.i(14800),k=a.i(91128),l=c,m=a.i(65802);function n(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class o extends l.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,k.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,l.useId)(),h=(0,l.useRef)(null),i=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:j}=(0,l.useContext)(m.MotionConfigContext),k=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=n(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():n(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,l.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:k,right:l}=i.current;if(d||!h.current||!a||!b)return;let m="left"===e?`left: ${k}`:`right: ${l}`;h.current.dataset.motionPopId=g;let n=document.createElement("style");j&&(n.nonce=j);let o=f??document.head;return o.appendChild(n),n.sheet&&n.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${m}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(n)&&o.removeChild(n)}},[d]),(0,b.jsx)(o,{isPresent:d,childRef:h,sizeRef:i,children:l.cloneElement(a,{ref:k})})}let q=({children:a,initial:d,isPresent:e,onExitComplete:f,custom:g,presenceAffectsLayout:i,mode:k,anchorX:l,root:m})=>{let n=(0,h.useConstant)(r),o=(0,c.useId)(),q=!0,s=(0,c.useMemo)(()=>(q=!1,{id:o,initial:d,isPresent:e,custom:g,onExitComplete:a=>{for(let b of(n.set(a,!0),n.values()))if(!b)return;f&&f()},register:a=>(n.set(a,!1),()=>n.delete(a))}),[e,n,f]);return i&&q&&(s={...s}),(0,c.useMemo)(()=>{n.forEach((a,b)=>n.set(b,!1))},[e]),c.useEffect(()=>{e||n.size||!f||f()},[e]),"popLayout"===k&&(a=(0,b.jsx)(p,{isPresent:e,anchorX:l,root:m,children:a})),(0,b.jsx)(j.PresenceContext.Provider,{value:s,children:a})};function r(){return new Map}var s=a.i(20410);let t=a=>a.key||"";function u(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let v=({children:a,custom:d,initial:e=!0,onExitComplete:f,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:n})=>{let[o,p]=(0,s.usePresence)(l),r=(0,c.useMemo)(()=>u(a),[a]),v=l&&!o?[]:r.map(t),w=(0,c.useRef)(!0),x=(0,c.useRef)(r),y=(0,h.useConstant)(()=>new Map),[z,A]=(0,c.useState)(r),[B,C]=(0,c.useState)(r);(0,i.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=r;for(let a=0;a<B.length;a++){let b=t(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(r!==z){let a=[...r];for(let b=0;b<B.length;b++){let c=B[b],d=t(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(u(a)),A(r),null}let{forceRender:E}=(0,c.useContext)(g.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=t(a),g=(!l||!!o)&&(r===B||v.includes(c));return(0,b.jsx)(q,{isPresent:g,initial:(!w.current||!!e)&&void 0,custom:d,presenceAffectsLayout:j,mode:k,root:n,onExitComplete:g?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&p?.(),f&&f())},anchorX:m,children:a},c)})})};var w=a.i(70106);let x=(0,w.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var y=a.i(82434),z=a.i(46842);let A=(0,w.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),B=(0,w.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),C=(0,w.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var D=a.i(63588),E=a.i(8406),F=a.i(99570),G=a.i(66718),H=globalThis?.document?c.useLayoutEffect:()=>{},I=a.i(30553),J=a.i(87610);function K(){return()=>{}}var L="Avatar",[M,N]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(L),[O,P]=M(L),Q=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[g,h]=c.useState("idle");return(0,b.jsx)(O,{scope:e,imageLoadingStatus:g,onImageLoadingStatusChange:h,children:(0,b.jsx)(I.Primitive.span,{...f,ref:d})})});Q.displayName=L;var R="AvatarImage",S=c.forwardRef((a,d)=>{let{__scopeAvatar:e,src:f,onLoadingStatusChange:g=()=>{},...h}=a,i=P(R,e),j=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,J.useSyncExternalStore)(K,()=>!0,()=>!1),f=c.useRef(null),g=e?(f.current||(f.current=new window.Image),f.current):null,[h,i]=c.useState(()=>V(g,a));return H(()=>{i(V(g,a))},[g,a]),H(()=>{let a=a=>()=>{i(a)};if(!g)return;let c=a("loaded"),e=a("error");return g.addEventListener("load",c),g.addEventListener("error",e),b&&(g.referrerPolicy=b),"string"==typeof d&&(g.crossOrigin=d),()=>{g.removeEventListener("load",c),g.removeEventListener("error",e)}},[g,d,b]),h}(f,h),k=function(a){let b=c.useRef(a);return c.useEffect(()=>{b.current=a}),c.useMemo(()=>(...a)=>b.current?.(...a),[])}(a=>{g(a),i.onImageLoadingStatusChange(a)});return H(()=>{"idle"!==j&&k(j)},[j,k]),"loaded"===j?(0,b.jsx)(I.Primitive.img,{...h,ref:d,src:f}):null});S.displayName=R;var T="AvatarFallback",U=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...g}=a,h=P(T,e),[i,j]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>j(!0),f);return()=>window.clearTimeout(a)}},[f]),i&&"loaded"!==h.imageLoadingStatus?(0,b.jsx)(I.Primitive.span,{...g,ref:d}):null});function V(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}U.displayName=T;var W=a.i(68114);let X=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(Q,{ref:d,className:(0,W.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...c}));X.displayName=Q.displayName;let Y=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(S,{ref:d,className:(0,W.cn)("aspect-square h-full w-full",a),...c}));Y.displayName=S.displayName;let Z=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(U,{ref:d,className:(0,W.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...c}));Z.displayName=U.displayName;var $=a.i(91119),_=a.i(83490);function aa(){let{data:a,status:g}=(0,d.useSession)(),h=(0,e.useRouter)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),q=(0,c.useRef)(null);(0,c.useEffect)(()=>{"unauthenticated"===g&&h.push("/auth/signin")},[g,h]),(0,c.useEffect)(()=>{q.current?.scrollIntoView({behavior:"smooth"})},[i]);let r=async a=>{if(a.preventDefault(),!k.trim()||m)return;let b={id:Date.now().toString(),content:k,role:"user",timestamp:new Date};j(a=>[...a,b]),l(""),n(!0),p(!0);try{let a=await _.default.post("http://localhost:8000/chat",{message:k,agent_type:"basic"},{headers:{"Content-Type":"application/json"}}),b={id:(Date.now()+1).toString(),content:a.data.response,role:"assistant",timestamp:new Date};p(!1),j(a=>[...a,b])}catch(b){console.error("Error sending message:",b);let a={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting. Please try again.",role:"assistant",timestamp:new Date};p(!1),j(b=>[...b,a])}finally{n(!1)}};return"loading"===g?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,b.jsx)(f.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,b.jsxs)("div",{className:"flex h-screen",children:[(0,b.jsxs)(f.motion.div,{initial:{x:-300},animate:{x:0},className:"w-64 bg-white/80 backdrop-blur-sm border-r border-gray-200 flex flex-col",children:[(0,b.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,b.jsx)(y.Bot,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Assistant"})})]})}),(0,b.jsxs)("div",{className:"flex-1 p-4",children:[(0,b.jsxs)(F.Button,{variant:"outline",className:"w-full mb-4 border-dashed border-gray-300 hover:border-blue-500 hover:bg-blue-50",children:[(0,b.jsx)(C,{className:"w-4 h-4 mr-2"}),"New Chat"]}),(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsxs)("div",{className:"flex items-center px-3 py-2 rounded-lg bg-blue-50 border border-blue-200",children:[(0,b.jsx)(D.MessageSquare,{className:"w-4 h-4 text-blue-600 mr-3"}),(0,b.jsx)("span",{className:"text-sm text-blue-800",children:"Current Chat"})]})})]}),(0,b.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,b.jsxs)(X,{className:"h-8 w-8",children:[(0,b.jsx)(Y,{src:a?.user?.image||""}),(0,b.jsx)(Z,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:a?.user?.name?.charAt(0)||"U"})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a?.user?.name||"User"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a?.user?.email})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(F.Button,{variant:"outline",size:"sm",className:"flex-1",children:(0,b.jsx)(B,{className:"w-4 h-4"})}),(0,b.jsx)(F.Button,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{(0,d.signOut)({callbackUrl:"/auth/signin"})},children:(0,b.jsx)(A,{className:"w-4 h-4"})})]})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)(f.motion.div,{initial:{y:-50},animate:{y:0},className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,b.jsx)(E.Sparkles,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-semibold text-lg text-gray-900",children:"AI Assistant"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:o?"Typing...":"Ready to help you"})]})]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,b.jsxs)(v,{children:[0===i.length?(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(y.Bot,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Welcome to AI Assistant!"}),(0,b.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"I'm here to help you with questions, creative tasks, problem-solving, and more. What would you like to talk about?"})]}):i.map((c,d)=>(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*d},className:`flex space-x-3 ${"user"===c.role?"justify-end":"justify-start"}`,children:["assistant"===c.role&&(0,b.jsx)(X,{className:"h-8 w-8 mt-1",children:(0,b.jsx)(Z,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:(0,b.jsx)(y.Bot,{className:"w-4 h-4"})})}),(0,b.jsx)($.Card,{className:`max-w-xs lg:max-w-md xl:max-w-lg ${"user"===c.role?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/80 backdrop-blur-sm"}`,children:(0,b.jsxs)($.CardContent,{className:"p-3",children:[(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:c.content}),(0,b.jsx)("p",{className:`text-xs mt-2 ${"user"===c.role?"text-blue-100":"text-gray-500"}`,children:c.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),"user"===c.role&&(0,b.jsxs)(X,{className:"h-8 w-8 mt-1",children:[(0,b.jsx)(Y,{src:a?.user?.image||""}),(0,b.jsx)(Z,{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white",children:(0,b.jsx)(z.User,{className:"w-4 h-4"})})]})]},c.id)),o&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex space-x-3 justify-start",children:[(0,b.jsx)(X,{className:"h-8 w-8 mt-1",children:(0,b.jsx)(Z,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:(0,b.jsx)(y.Bot,{className:"w-4 h-4"})})}),(0,b.jsx)($.Card,{className:"bg-white/80 backdrop-blur-sm",children:(0,b.jsx)($.CardContent,{className:"p-3",children:(0,b.jsxs)("div",{className:"flex space-x-1",children:[(0,b.jsx)(f.motion.div,{animate:{y:[0,-5,0]},transition:{duration:1,repeat:1/0,delay:0},className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,b.jsx)(f.motion.div,{animate:{y:[0,-5,0]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,b.jsx)(f.motion.div,{animate:{y:[0,-5,0]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-gray-400 rounded-full"})]})})})]})]}),(0,b.jsx)("div",{ref:q})]}),(0,b.jsx)(f.motion.div,{initial:{y:50},animate:{y:0},className:"border-t border-gray-200 bg-white/80 backdrop-blur-sm p-4",children:(0,b.jsxs)("form",{onSubmit:r,className:"flex space-x-3",children:[(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsx)(G.Input,{value:k,onChange:a=>l(a.target.value),placeholder:"Type your message...",className:"pr-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",disabled:m})}),(0,b.jsx)(F.Button,{type:"submit",disabled:m||!k.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:(0,b.jsx)(x,{className:"w-4 h-4"})})]})})]})]})})}}];

//# sourceMappingURL=_58e8427e._.js.map